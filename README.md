# C++ Boost.Asio κΈ°λ° μ¤λ© κ²μ„ μ„λ²„ ν”„λ΅μ νΈ

μ΄ ν”„λ΅μ νΈλ” C++μ™€ Boost.Asio λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•μ—¬ λΉ„λ™κΈ° μ†μΌ“ κΈ°λ°μ λ©€ν‹°ν”λ μ΄μ–΄ μ¤λ© κ²μ„ μ„λ²„λ¥Ό κ°λ°ν•λ” κ³Όμ •μ„ λ‹΄κ³  μμµλ‹λ‹¤. κΈ°λ³Έμ μΈ λ„¤νΈμ›ν¬ ν†µμ‹ λ¶€ν„° μ‹μ‘ν•μ—¬, μ—¬λ¬ μ‚¬μ©μλ¥Ό κ΄€λ¦¬ν•λ” λ΅λΉ„, λ§¤μΉλ©”μ΄ν‚Ή, κ·Έλ¦¬κ³  μ‹¤μ  κ²μ„ λ΅μ§μ„ λ‹¨κ³„μ μΌλ΅ κµ¬ν„ν•λ” κ²ƒμ„ λ©ν‘λ΅ ν•©λ‹λ‹¤.

## β¨ μ£Όμ” κΈ°λ¥ (Current Features)

ν„μ¬κΉμ§€ κµ¬ν„λ μ„λ²„μ ν•µμ‹¬ κΈ°λ¥μ€ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.

* **λΉ„λ™κΈ° I/O μ„λ²„ κµ¬μ΅°**: Boost.Asioμ Proactor ν¨ν„΄μ„ κΈ°λ°μΌλ΅ ν• κ³ μ„±λ¥ λΉ„λ™κΈ° μ†μΌ“ ν†µμ‹ μ„ κµ¬ν„ν–μµλ‹λ‹¤.
* **ν¨ν‚· κΈ°λ° ν†µμ‹ **: `[Header] + [Body]` κµ¬μ΅°μ μ»¤μ¤ν…€ ν”„λ΅ν† μ½μ„ μ •μν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ •ν•΄μ§„ κ·κ²©μΌλ΅ ν†µμ‹ ν•©λ‹λ‹¤.
* **λ΅λΉ„ λ° μ„Έμ… κ΄€λ¦¬**: μ ‘μ†ν• ν΄λΌμ΄μ–ΈνΈ(`Session`)λ“¤μ„ μ¤‘μ•™μ—μ„ κ΄€λ¦¬ν•λ” λ΅λΉ„ μ‹μ¤ν…μ„ κµ¬ν„ν–μµλ‹λ‹¤.
* **μ¤λ λ“ μ•μ „μ„± ν™•λ³΄**: μ—¬λ¬ ν΄λΌμ΄μ–ΈνΈμ λ™μ‹ μ”μ²­μΌλ΅λ¶€ν„° κ³µμ  λ°μ΄ν„°λ¥Ό λ³΄νΈν•κΈ° μ„ν•΄ `std::mutex`λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.
* **κΈ°μ΄ λ§¤μΉλ©”μ΄ν‚Ή**: λ΅λΉ„μ— λ€κΈ° μ¤‘μΈ ν”λ μ΄μ–΄ 2λ…μ„ μ°Ύμ•„ κ²μ„λ°©μΌλ΅ μ—°κ²°ν•λ” κ°„λ‹¨ν• λ§¤μΉλ©”μ΄ν‚Ή λ΅μ§μ„ κµ¬ν„ν–μµλ‹λ‹¤.
* **κ²μ„λ°© μƒμ„±**: λ§¤μΉ­λ ν”λ μ΄μ–΄λ“¤μ„ μ„ν• `GameRoom` κ°μ²΄λ¥Ό μƒμ„±ν•κ³  κ΄€λ¦¬ν•©λ‹λ‹¤.

## π› οΈ κΈ°μ  μ¤νƒ (Tech Stack)

* **μ–Έμ–΄**: C++17
* **λ„¤νΈμ›ν‚Ή**: Boost.Asio
* **λΉλ“ μ‹μ¤ν…**: CMake
* **μμ΅΄μ„± κ΄€λ¦¬**: vcpkg
* **κ°λ° ν™κ²½**: Visual Studio 2022 (Windows)

## π“‚ ν”„λ΅μ νΈ κµ¬μ΅°

```
GomokuServer/
β”β”€β”€ .gitignore         # Gitμ΄ λ¬΄μ‹ν•  νμΌ λ©λ΅
β”β”€β”€ CMakeLists.txt     # CMake λΉλ“ μ¤ν¬λ¦½νΈ (ν”„λ΅μ νΈ μ„¤κ³„λ„)
β”β”€β”€ build/             # (Gitμ— μν•΄ λ¬΄μ‹λ¨) λΉλ“ κ²°κ³Όλ¬Όμ΄ μƒμ„±λλ” ν΄λ”
β””β”€β”€ src/               # λ¨λ“  μ†μ¤ μ½”λ“κ°€ μ„μΉν•λ” ν΄λ”
    β”β”€β”€ main.cpp       # μ„λ²„μ μ‹μ‘μ  (main ν•¨μ, Server ν΄λμ¤)
    β”β”€β”€ Session.h/.cpp # ν΄λΌμ΄μ–ΈνΈ ν• λ…κ³Όμ μ—°κ²°μ„ λ‹΄λ‹Ήν•λ” ν΄λμ¤
    β”β”€β”€ LobbyManager.h # λ΅λΉ„μ™€ λ§¤μΉλ©”μ΄ν‚Ήμ„ κ΄€λ¦¬ν•λ” μ‹±κΈ€ν†¤ ν΄λμ¤
    β”β”€β”€ GameRoom.h/.cpp  # ν• νμ κ²μ„μ„ κ΄€λ¦¬ν•λ” ν΄λμ¤
    β”β”€β”€ Packet.h       # ν†µμ‹  ν¨ν‚· κµ¬μ΅° μ •μ
    β””β”€β”€ client.cpp     # ν…μ¤νΈμ© μ½μ†” ν΄λΌμ΄μ–ΈνΈ
```

## π€ μ‹μ‘ν•κΈ° (Getting Started)

μ΄ ν”„λ΅μ νΈλ¥Ό λ΅μ»¬ μ»΄ν“¨ν„°μ—μ„ λΉλ“ν•κ³  μ‹¤ν–‰ν•λ” λ°©λ²•μ…λ‹λ‹¤.

### μ‚¬μ „ μ”κµ¬ μ‚¬ν•­

* Visual Studio 2022 (C++ λ°μ¤ν¬ν†± κ°λ° μ›ν¬λ΅λ“ μ„¤μΉ)
* [CMake](https://cmake.org/download/)
* [Git](https://git-scm.com/downloads/)
* [vcpkg](https://github.com/microsoft/vcpkg)

### λΉλ“ μμ„

1.  **vcpkgλ΅ λΌμ΄λΈλ¬λ¦¬ μ„¤μΉ**
    `CMakeLists.txt`μ— λ…μ‹λ `asio`, `system`, `algorithm` μ»΄ν¬λ„νΈλ¥Ό μ„¤μΉν•©λ‹λ‹¤.
    ```bash
    vcpkg install boost-asio boost-system boost-algorithm:x64-windows
    ```

2.  **ν”„λ΅μ νΈ ν΄λ΅  λ° λΉλ“ νμΌ μƒμ„±**

    ```bash
    # 1. μ΄ μ €μ¥μ†λ¥Ό ν΄λ΅ ν•©λ‹λ‹¤.
    git clone [Your-GitHub-Repo-URL]
    cd [Your-Repo-Folder]/GomokuServer

    # 2. λΉλ“ ν΄λ”λ¥Ό μƒμ„±ν•κ³  λ“¤μ–΄κ°‘λ‹λ‹¤.
    mkdir build
    cd build

    # 3. CMakeλ¥Ό μ‹¤ν–‰ν•μ—¬ Visual Studio μ†”λ£¨μ… νμΌμ„ μƒμ„±ν•©λ‹λ‹¤.
    # [vcpkg_root_path] λ¶€λ¶„μ€ μμ‹ μ vcpkg μ„¤μΉ κ²½λ΅λ΅ λ³€κ²½ν•΄μ£Όμ„Έμ”.
    # μ: C:/dev/vcpkg
    cmake .. -A x64 -DCMAKE_TOOLCHAIN_FILE=[vcpkg_root_path]/scripts/buildsystems/vcpkg.cmake
    ```

3.  **Visual Studioμ—μ„ λΉλ“**
    * `build` ν΄λ”μ— μƒμ„±λ `GomokuServer.sln` νμΌμ„ Visual Studioλ΅ μ—½λ‹λ‹¤.
    * `Ctrl+Shift+B` λ‹¨μ¶•ν‚¤λ¥Ό λλ¬ μ†”λ£¨μ… μ „μ²΄λ¥Ό λΉλ“ν•©λ‹λ‹¤.

## π® μ‹¤ν–‰ λ°©λ²•

1.  Visual Studioμ μ†”λ£¨μ… νƒμƒ‰κΈ°μ—μ„ `server` ν”„λ΅μ νΈλ¥Ό λ§μ°μ¤ μ¤λ¥Έμ½ ν΄λ¦­ -> `μ‹μ‘ ν”„λ΅μ νΈλ΅ μ„¤μ •`μ„ μ„ νƒν•©λ‹λ‹¤.
2.  `Ctrl+F5` (λ””λ²„κΉ… μ—†μ΄ μ‹μ‘)λ¥Ό λλ¬ μ„λ²„λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.
3.  μ„λ²„ μ½μ†”μ— `Server started on port 12345...` λ©”μ‹μ§€λ¥Ό ν™•μΈν•©λ‹λ‹¤.
4.  λ‹¤μ‹ μ†”λ£¨μ… νƒμƒ‰κΈ°μ—μ„ `client` ν”„λ΅μ νΈλ¥Ό λ§μ°μ¤ μ¤λ¥Έμ½ ν΄λ¦­ -> `μ‹μ‘ ν”„λ΅μ νΈλ΅ μ„¤μ •`μ„ μ„ νƒν•©λ‹λ‹¤.
5.  `Ctrl+F5`λ¥Ό λλ¬ μ²« λ²μ§Έ ν΄λΌμ΄μ–ΈνΈλ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤. μ„λ²„μ— "A client entered the lobby" λ΅κ·Έκ°€ λ‚νƒ€λ‚©λ‹λ‹¤.
6.  `Ctrl+F5`λ¥Ό ν•λ² λ” λλ¬ λ‘ λ²μ§Έ ν΄λΌμ΄μ–ΈνΈλ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.
7.  λ‘ λ²μ§Έ ν΄λΌμ΄μ–ΈνΈκ°€ μ ‘μ†ν•λ©΄ μ„λ²„μ— "Matching Success!" μ™€ "GameRoom: Game Started!" λ΅κ·Έκ°€ μ¶λ ¥λ©λ‹λ‹¤.

## π—ΊοΈ μ•μΌλ΅μ κ³„ν (Roadmap)

* [ ] **κ²μ„ λ΅μ§ κµ¬μ²΄ν™”**: `GameRoom` λ‚΄λ¶€μ— μ‹¤μ  μ¤λ©ν, ν„΄ κ΄€λ¦¬, μΉν¨ νμ • λ΅μ§ κµ¬ν„
* [ ] **ν¨ν‚· ν•Έλ“¤λ§ κ°•ν™”**: κ²μ„ μ§„ν–‰μ— ν•„μ”ν• λ¨λ“  ν¨ν‚·(`PLACE_STONE_NTF` λ“±) μ²λ¦¬ λ΅μ§ κµ¬ν„
* [ ] **ν΄λΌμ΄μ–ΈνΈ κ°μ„ **: λ‹¨λ°μ„± ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈκ°€ μ•„λ‹, μ§€μ†μ μΌλ΅ μ„λ²„μ™€ ν†µμ‹ ν•λ©° μ‚¬μ©μ μ…λ ¥μ„ μ²λ¦¬ν•λ” λΉ„λ™κΈ° ν΄λΌμ΄μ–ΈνΈλ΅ κ°μ„ 
* [ ] **(μµμΆ… λ©ν‘) Unity ν΄λΌμ΄μ–ΈνΈ κ°λ°**: κ·Έλν”½ UIλ¥Ό κ°–μ¶ Unity ν΄λΌμ΄μ–ΈνΈλ¥Ό κ°λ°ν•μ—¬ μ„λ²„μ™€ μ—°λ™
